# SpineEditor

SpineEditor是一个基于MonoGame的Spine动画帧事件编辑器，专为游戏开发者设计，用于编辑和管理Spine骨骼动画中的帧事件。

## 功能特点

- **动画预览**：实时预览Spine骨骼动画
- **帧事件编辑**：添加、编辑和删除动画帧事件
- **事件类型支持**：支持多种事件类型（普通、攻击、特效、声音）
- **攻击形状可视化**：直观显示攻击事件的形状（矩形、圆形）
- **时间轴控制**：精确控制动画播放和事件触发时间
- **JSON导入/导出**：保存和加载事件数据到独立的JSON文件

## 事件类型

SpineEditor支持以下事件类型：

1. **普通事件(Normal)**：基本事件类型，包含整数、浮点数和字符串参数
2. **攻击事件(Attack)**：用于定义攻击区域，支持矩形和圆形形状
3. **特效事件(Effect)**：用于在特定位置播放特效
4. **声音事件(Sound)**：用于播放声音效果

## 攻击形状可视化

攻击事件支持两种形状：

- **矩形(Rectangle)**：可定义宽度、高度和旋转角度
- **圆形(Circle)**：可定义半径

选择攻击事件并设置形状后，形状会直接在动画预览区域可视化显示，帮助开发者精确定位攻击区域。

**注意**：攻击形状的坐标(X,Y)是相对于Spine动画原点的，这使得攻击区域能够准确地跟随动画移动。

## 使用方法

### 加载动画

1. 将Spine动画文件(.atlas和.skel/.json)拖放到应用程序窗口中
2. 应用程序会自动加载动画并显示在预览区域
3. 如果存在同名的事件文件(_events.json)，会自动加载事件数据

### 编辑事件

1. 使用时间轴控制动画播放位置
2. 点击右侧面板中的"Add Event"按钮添加事件
3. 在属性面板中编辑事件属性
4. 选择事件类型并设置相应参数
5. 对于攻击事件，可以设置形状类型和尺寸，形状会实时显示在预览区域

### 保存事件

事件数据会保存为独立的JSON文件，与原始Spine文件分开存储，不会修改原始Spine数据。

## 界面布局

- **左侧面板**：显示动画信息和控制选项
- **中央区域**：动画预览区域
- **右侧面板**：事件属性编辑区域
- **底部区域**：时间轴控制区域

## 技术实现

- 基于MonoGame框架开发
- 使用Spine运行时库加载和渲染骨骼动画
- 自定义UI系统实现编辑器界面
- 使用JSON序列化存储事件数据

## 系统要求

- .NET 8.0或更高版本
- 支持DirectX的显卡
- Windows操作系统

## 开发计划

- [ ] 添加更多事件类型支持
- [ ] 改进UI界面和用户体验
- [ ] 添加事件模板功能
- [ ] 支持批量编辑事件
- [ ] 添加事件预览和测试功能

## 许可证

本项目使用MIT许可证。

## 致谢

- [MonoGame](https://www.monogame.net/)
- [Spine](http://esotericsoftware.com/)
